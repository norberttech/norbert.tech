{% extends 'base.html.twig' %}

{% block language %}{{ post.language }}{% endblock %}

{% block header %}{% endblock %}

{% block content %}
    <div class="mx-auto max-w-screen-lg px-2">
        <ul class="mt-2 pl-[20px] flex gap-4">
            <li>
                <a href="{{ path('blog') }}" class="text-blue-500 hover:underline">Go Back</a>
            </li>
            {% for translationId in post.translationsIds %}
                {% set translatedPost = posts.get(translationId) %}
                {% if translatedPost.language == 'en' %}
                    <li>
                        <a href="{{ path('blog_post', {date: translatedPost.date | date('Y-m-d'), slug: translatedPost.slug}) }}"
                           class="text-lg hover:opacity-80"
                           title="English">ðŸ‡ºðŸ‡¸ English</a>
                    </li>
                {% elseif translatedPost.language == 'pl' %}
                    <li>
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="text-lg hover:opacity-80"
                           title="Polish">ðŸ‡µðŸ‡± Polish</a>
                    </li>
                {% elseif translatedPost.language == 'de' %}
                    <li>
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="text-lg hover:opacity-80"
                           title="Deutsch">ðŸ‡©ðŸ‡ª Deutsch</a>
                    </li>
                {% elseif translatedPost.language == 'es' %}
                    <li>
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="text-lg hover:opacity-80"
                           title="Spanish">ðŸ‡ªðŸ‡¸ Spanish</a>
                    </li>
                {% elseif translatedPost.language == 'fr' %}
                    <li>
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="text-lg hover:opacity-80"
                           title="French">ðŸ‡«ðŸ‡· French</a>
                    </li>
                {% elseif translatedPost.language == 'it' %}
                    <li>
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="text-lg hover:opacity-80"
                           title="French">ðŸ‡®ðŸ‡¹ Italian</a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>

        {% if post.translated %}
            <div class="mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                <div class="flex items-start">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h3 class="font-medium text-yellow-800">
                            Translation Notice
                        </h3>
                        <div class="mt-2 text-yellow-700">
                            <p>
                                This is an automatically translated version of that Article. Despite my best efforts, it might not be perfect.<br/>
                                Native speakers are welcome to
                                <a href="https://github.com/norberttech/norbert.tech/edit/main/templates/{{ template_folder }}/post.html.twig"
                                   class="underline hover:text-yellow-800" target="_blank" rel="noopener">open pull requests
                                </a> to correct anything that doesn't sound right.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
    <article class="blog-post px-2 py-5 sm:px-4 mx-auto max-w-screen-lg">
        {{ block('article') }}
    </article>
    <div class="mb-2 mx-auto max-w-screen-lg text-center">
        <script src="https://giscus.app/client.js"
                data-repo="norberttech/norbert.tech"
                data-repo-id="MDEwOlJlcG9zaXRvcnkyMjQ0MDQwNDA="
                data-category="Comments"
                data-category-id="DIC_kwDODWAiSM4CionD"
                data-mapping="pathname"
                data-strict="0"
                data-reactions-enabled="0"
                data-emit-metadata="0"
                data-input-position="bottom"
                data-theme="light"
                data-lang="en"
                crossorigin="anonymous"
                async>
        </script>
    </div>
{% endblock %}