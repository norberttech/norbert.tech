{% extends 'base.html.twig' %}

{% block title %}{% endblock %}
{% block description %}{% endblock %}
{% block header %}{% endblock %}

{% block content %}
<div class="mx-auto max-w-screen-lg px-2">
    <h1 class="font-bold text-4xl md:mb-6 p-2">Norbert - Personal Blog</h1>
    <p class="mb-2">
        Welcome to my personal blog. Here you'll find articles on various topics, including software architecture, web development, and data processing.
        I hope you find the content useful and informative.
    </p>
    <p class="mb-4">
        Some of my other articles are available on the following websites:
    </p>
    <ul class="list list-disc pl-10">
        <li class="mb-2"><a href="https://zawarstwaabstrakcji.pl" target="_blank">Za WarstwÄ… Abstrakcji</a> - Only in ðŸ‡µðŸ‡± </li>
        <li class="mb-2"><a href="https://flow-php.com/blog" target="_blank">Flow PHP - Blog</a></li>
    </ul>

    <h2 class="font-bold text-4xl my-5">Articles</h2>
    {% for post in posts.all %}
        <article class="p-2 mb-6">
            {% if post.heroImgSrc %}
                <div class="mb-4">
                    <a href="{{ path('blog_post', {date: post.date | date('Y-m-d'), slug: post.slug}) }}">
                        <img src="{{ asset(post.heroImgSrc) }}" alt="{{ post.title }}" class="w-full h-64 object-cover rounded-lg hover:opacity-90 transition-opacity">
                    </a>
                </div>
            {% endif %}
            <div class="mb-2">
                <img src="{{ asset('images/icons/pencil.svg') }}" width="32" height="32" alt="feature" class="inline mr-2 bg-blue-100 p-1 -mt-4 rounded">
                <a
                    href="{{ path('blog_post', {date: post.date | date('Y-m-d'), slug: post.slug}) }}"
                >
                    <h2 class="inline text-4xl font-bold">{{ post.title }}</h2>
                </a>
            </div>
            <div>
            {% for label in post.labels %}
                <small><span class="badge badge-info">{{ label }}</span></small>
            {% endfor %}
            </div>
            <h3 class="mb-2 text-sm">Posted on {{ post.date | date('Y-m-d') }}</h3>
            <p class="mb-2">
                {{ post.description }}
            </p>
            <div class="mt-2 flex flex-wrap items-center gap-2">
                <span class="text-sm text-gray-600">Available in:</span>
                <a href="{{ path('blog_post', {date: post.date | date('Y-m-d'), slug: post.slug}) }}"
                   class="inline-flex items-center px-2 py-1 text-sm bg-blue-100 hover:bg-blue-200 rounded transition-colors"
                   title="English">ðŸ‡ºðŸ‡¸ EN</a>
                {% for translationId in post.translationsIds %}
                    {% set translatedPost = posts.get(translationId) %}
                    {% if translatedPost.language == 'pl' %}
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="inline-flex items-center px-2 py-1 text-sm bg-blue-100 hover:bg-blue-200 rounded transition-colors"
                           title="Polish">ðŸ‡µðŸ‡± PL</a>
                    {% elseif translatedPost.language == 'de' %}
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="inline-flex items-center px-2 py-1 text-sm bg-blue-100 hover:bg-blue-200 rounded transition-colors"
                           title="Deutsch">ðŸ‡©ðŸ‡ª DE</a>
                    {% elseif translatedPost.language == 'es' %}
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="inline-flex items-center px-2 py-1 text-sm bg-blue-100 hover:bg-blue-200 rounded transition-colors"
                           title="Spanish">ðŸ‡ªðŸ‡¸ ES</a>
                    {% elseif translatedPost.language == 'fr' %}
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="inline-flex items-center px-2 py-1 text-sm bg-blue-100 hover:bg-blue-200 rounded transition-colors"
                           title="French">ðŸ‡«ðŸ‡· FR</a>
                    {% elseif translatedPost.language == 'it' %}
                        <a href="{{ path('blog_post_language', {date: translatedPost.date | date('Y-m-d'), language: translatedPost.language, slug: translatedPost.slug}) }}"
                           class="inline-flex items-center px-2 py-1 text-sm bg-blue-100 hover:bg-blue-200 rounded transition-colors"
                           title="Italian">ðŸ‡®ðŸ‡¹ IT</a>
                    {% endif %}
                {% endfor %}
            </div>
        </article>
        <hr class="text-blue-100 my-4 border-t-2 rounded">
    {% endfor %}
</div>
{% endblock %}